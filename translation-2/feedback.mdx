---
title: 'Providing Feedback'
description: 'Help your router learn and improve automatically'
---

Feedback helps your router learn which models perform best for different types of content. Let's see how to provide feedback and how it drives automatic improvements.

## Storing Translation Results
First, store translation results for feedback:

```python
def store_translation(router, text, translation):
    """Store a translation for later feedback."""
    response = router.store(
        messages=[
            {"role": "user", "content": text}
        ],
        completion={
            "role": "assistant",
            "content": translation
        }
    )
    return response.request_id

# Store some translations
router = Router(router_id="your_router_id")
request_id = store_translation(
    router,
    "안녕하세요",
    "Hello"
)
```

## Adding Quality Feedback
Provide feedback about translation quality:

```python
def add_feedback(router, request_id, quality_score):
    """Rate translation quality from 0 to 1."""
    router.add_feedback(
        request_id=request_id,
        score=quality_score  # 0 = poor, 1 = perfect
    )

# Add feedback for stored translation
add_feedback(router, request_id, quality_score=0.95)
```

## Direct Feedback
You can also provide feedback immediately after a translation:

```python
# Translate and provide feedback in one flow
def translate_with_feedback(text, expected_quality):
    router = Router(router_id="your_router_id")
    
    # Get translation
    response = router.completions.create(
        messages=[
            {"role": "system", "content": "You are a skilled Korean-English translator."},
            {"role": "user", "content": text}
        ],
        quality=expected_quality
    )
    translation = response.choices[0].message.content
    
    # Store result and add feedback
    request_id = store_translation(router, text, translation)
    
    # Rate based on your quality criteria
    quality_score = rate_translation_quality(text, translation)
    add_feedback(router, request_id, quality_score)
    
    return translation

def rate_translation_quality(source, translation):
    """Your custom logic to rate translation quality."""
    # Implement your quality rating logic
    return 0.9  # Example score
```

## Automatic Improvements
As you provide feedback, Martian automatically:
1. Learns from your quality ratings
2. Improves model selection
3. Creates new router versions
4. Updates quality predictions

Your router will automatically use these improvements when you specify `version="latest"`:

```python
# Always use latest improved version
router = Router(
    router_id="your_router_id",
    version="latest"  # Automatically use improvements
)
```

<Note>
  Consistent feedback helps your router learn your specific quality requirements and optimize model selection accordingly. The more feedback you provide, the better the router becomes at selecting the right model for each request.
</Note>