---
title: 'Router Versions'
description: 'Manage and track different versions of your router'
---
## Understanding Router Versions
Router versions represent different states of your router's optimization as it learns from feedback. When you create a router named `translation-router`, new versions will automatically be created over time as:
- `translation-router-1`
- `translation-router-2`
- `translation-router-3`
And so on.

Each version contains:
- A unique version ID and name
- A set of cost-quality points
- Performance metrics
- Associated judge version

If you want to always use the latest version of the router, you can simply specify `translation-router` and the version of the router will be automatically switched to the latest version whenever a new version is released.
<CardGroup cols={2}>
  <Card title="Automatic Updates" icon="arrows-rotate">
    New versions are created automatically as your router learns from feedback
  </Card>
  <Card title="Version Control" icon="code-branch">
    Track and compare performance across different versions
  </Card>
</CardGroup>
## Managing Versions
<Steps>
  <Step title="List Router Versions">
    ```python
    url = f'{API_URL}/org/{ORG_ID}/routers/{router_id}/versions'
    response = requests.get(url, headers=HEADERS)
    versions = response.json()['versions']
    
    for version in versions:
        print(f"Version ID: {version['version_id']}")
        print(f"Created: {version['created_at']}")
        print(f"Slug: {version['slug']}\n")
    ```
  </Step>
  <Step title="Get Version Details">
    ```python
    version_id = versions[0]['version_id']  # Get latest version
    url = f'{API_URL}/org/{ORG_ID}/routers/{router_id}/versions/{version_id}'
    response = requests.get(url, headers=HEADERS)
    details = response.json()
    
    # Access cost-quality points
    for point in details['cost_quality_points']:
        print(f"Cost: ${point['cost']:.4f}")
        print(f"Quality: {point['quality']:.2f}")
    ```
  </Step>
  <Step title="Choose Router Version">
    ```python
    def translate(text, router_name="translation-router"):
        """
        Translate using either latest version (translation-router) 
        or specific version (translation-router-1, translation-router-2, etc.)
        """
        response = client.chat.completions.create(
            model=router_name,  # Use base name for latest, or specific version name
            messages=[
                {"role": "system", "content": "You are a skilled Korean-English translator."},
                {"role": "user", "content": text}
            ]
        )
        return response.choices[0].message.content.strip()
    # Use latest version
    result = translate("안녕하세요")  # Uses translation-router
    
    # Use specific version
    result = translate("안녕하세요", router_name="translation-router-1")  # Uses version 1
    ```
  </Step>
</Steps>
## Cost-Quality Points
Each router version maintains a set of cost-quality points that show the router's performance curve:
```python
def analyze_version_performance(router_id, version_id):
    """Analyze cost-quality tradeoffs for a version."""
    url = f'{API_URL}/org/{ORG_ID}/routers/{router_id}/versions/{version_id}'
    response = requests.get(url, headers=HEADERS)
    details = response.json()
    
    points = details['cost_quality_points']
    points.sort(key=lambda x: x['cost'])
    
    print("Cost-Quality Analysis:")
    print("----------------------")
    for point in points:
        print(f"Cost: ${point['cost']:.4f}")
        print(f"Quality: {point['quality']:.2f}")
        print()
```
## Version Selection
<AccordionGroup>
  <Accordion title="Using Latest Version">
    Always use the base router name to get the latest version:
    ```python
    model="translation-router"  # Always uses latest version
    ```
  </Accordion>
  <Accordion title="Using Specific Version">
    Use numbered versions for consistency:
    ```python
    model="translation-router-1"  # Always uses version 1
    model="translation-router-2"  # Always uses version 2
    ```
  </Accordion>
  <Accordion title="Version Migration">
    Test new versions before switching production traffic:
    ```python
    # Test new version
    result = translate("테스트", "translation-router-2")
    
    # If satisfied, switch to using latest
    result = translate("테스트", "translation-router")
    ```
  </Accordion>
</AccordionGroup>
## Viewing Available Versions
To see all versions of your router:
```python
def list_router_versions(router_id):
    """List all versions of a specific router."""
    url = f'{API_URL}/org/{ORG_ID}/routers/{router_id}/versions'
    response = requests.get(url, headers=HEADERS)
    versions = response.json()['versions']
    
    print("Available Router Versions:")
    for version in versions:
        print(f"- Name: translation-router-{version['version_id']}")
        print(f"  Created: {version['created_at']}")
        print(f"  Hash: {version['hash']}")
        print(f"  Judge Version: {version['judge_version_id']}\n")
# Example usage
list_router_versions(router_id)
```
## Best Practices
1. Monitor version performance:
   ```python
   def monitor_version(router_id, version_id):
       url = f'{API_URL}/org/{ORG_ID}/routers/{router_id}/versions/{version_id}'
       response = requests.get(url, headers=HEADERS)
       return response.json()
   ```
2. Compare versions before upgrading:
   ```python
   def compare_versions(router_id, version_1, version_2):
       """Compare performance between two versions."""
       v1 = monitor_version(router_id, version_1)
       v2 = monitor_version(router_id, version_2)
       
       print(f"Version {version_1}:")
       print(f"Average Quality: {v1['average_quality']:.2f}")
       print(f"Average Cost: ${v1['average_cost']:.4f}\n")
       
       print(f"Version {version_2}:")
       print(f"Average Quality: {v2['average_quality']:.2f}")
       print(f"Average Cost: ${v2['average_cost']:.4f}")
   ```
3. Track version history in your application:
   ```python
   current_version = "v1"  # Store this in your config
   
   def get_translation_router():
       """Get router with current version."""
       return f"translation-router@{current_version}"
   ```
<Note>
  New versions are created automatically as your router learns. Monitor performance metrics to decide when to upgrade.
</Note>
## Troubleshooting
<AccordionGroup>
  <Accordion title="Invalid Version">
    Check that the version slug exists and is correctly formatted
  </Accordion>
  <Accordion title="Performance Regression">
    Compare cost-quality points with previous versions
  </Accordion>
  <Accordion title="Missing Data">
    Ensure sufficient feedback data for meaningful comparisons
  </Accordion>
</AccordionGroup>
## Next Steps
After understanding versions:
1. Set up version monitoring
2. Create a version upgrade strategy
3. Integrate version management into your CI/CD
4. Track version performance metrics
<Note>
  Remember to test new versions thoroughly before using them in production.
</Note>